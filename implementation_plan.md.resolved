# Fovty Solutions - Full Implementation Plan

This plan addresses all remaining requirements for the User Management System, ensuring a scalable architecture and a feature-complete Admin/User experience.

## Proposed Changes

### [Backend]

#### [NEW] [PasswordReset.js](file:///d:/Fovty%20solutions%20Pro/backend/src/models/PasswordReset.js)
- Model to store reset tokens: `email`, `token`, `expiresAt`.

#### [NEW] [OAuthProvider.js](file:///d:/Fovty%20solutions%20Pro/backend/src/models/OAuthProvider.js)
- Separate model for OAuth links as per requirements: `userId`, `provider` (e.g., 'google'), `providerId`.

#### [MODIFY] [auth.controller.js](file:///d:/Fovty%20solutions%20Pro/backend/src/controllers/auth.controller.js)
- Implement `forgotPassword`: Generate token, save to `PasswordReset`, and return/log it.
- Implement `resetPassword`: Validate token and update user password.
- Finalize [googleAuth](file:///d:/Fovty%20solutions%20Pro/backend/src/controllers/auth.controller.js#122-154): Handle user creation and `OAuthProvider` linking.

#### [MODIFY] [admin.controller.js](file:///d:/Fovty%20solutions%20Pro/backend/src/controllers/admin.controller.js)
- Ensure robust search and pagination logic.

---

### [Frontend]

#### [NEW] [AdminUserManagement.jsx](file:///d:/Fovty%20solutions%20Pro/frontend/src/jsx/pages/admin/AdminUserManagement.jsx)
- Adapt [ecom-customers.jsx](file:///d:/Fovty%20solutions%20Pro/frontend/src/jsx/pages/ecommerce/shop/ecom-customers.jsx) to list real users from the API.
- Implement Actions: Block/Unblock, Delete, Edit, Impersonate.
- Implement Search & Pagination.

#### [NEW] [UserProfileSettings.jsx](file:///d:/Fovty%20solutions%20Pro/frontend/src/jsx/pages/profile/UserProfileSettings.jsx)
- Adapt [edit-profile.jsx](file:///d:/Fovty%20solutions%20Pro/frontend/src/jsx/pages/apps/edit-profile.jsx) to fetch and update `name`, `phone`, `bio`, and `profilePicture`.
- Wire up the Change Password functionality.

#### [NEW] [ForgotPassword.jsx](file:///d:/Fovty%20solutions%20Pro/frontend/src/jsx/pages/authentication/ForgotPassword.jsx) & [ResetPassword.jsx](file:///d:/Fovty%20solutions%20Pro/frontend/src/jsx/pages/authentication/ResetPassword.jsx)
- Create missing authentication pages.

#### [MODIFY] [Login.jsx](file:///d:/Fovty%20solutions%20Pro/frontend/src/jsx/pages/authentication/Login.jsx)
- Add "Login with Google" button.

---

### [Documentation]

#### [MODIFY] [README.md](file:///d:/Fovty%20solutions%20Pro/README.md)
- Update ER diagram with `PasswordReset` and `OAuthProvider`.
- Update API documentation with new endpoints.

## Verification Plan

### Automated Tests
- Test forgotten password flow via Postman/Browser.
- Test Admin CRUD operations and Impersonation.

### Manual Verification
- Verify profile picture upload and info updates.
- Verify block/unblock status persistence.
